!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){n(2),n(4),n(5),n(6),n(7);var r=n(8),i=n(9);$.seckill=function(e){var t=$.extend(i,e);t.isLogin&&(r.setLogin({type:"hd",proxy:t.proxy,code:t.isLogin?1:-1,callback:function(){t.isLogin=!0}}),r.setProxy(function(){},t.orderproxy,"hdorder"));var n=1,o=15,a=!1,d=!1,s=function(e){var t=Math.floor(e%60),n=Math.floor(e/60%60),r=Math.floor(e/3600);return 10>r&&(r="0"+r),10>n&&(n="0"+n),10>t&&(t="0"+t),r+":"+n+":"+t},c=function(e,t){-1===e?t.text("正在加载...").removeClass("J_login btn-primary").addClass("btn-disabled"):0===e?t.text("已抢光").removeClass("J_login btn-primary J_buy J_nostart btn-disabled J_remind btn-remind").addClass("btn-disabled"):1===e?t.text("立即抢购").removeClass("J_login btn-disabled J_remind btn-remind  J_nostart").addClass("btn-primary J_buy"):2===e?t.text("登录后抢购").removeClass("btn-disabled J_remind btn-remind").addClass("btn-primary J_login"):3===e?t.text("活动尚未开始").removeClass("J_login btn-primary J_buy J_remind btn-remind").addClass("btn-disabled J_nostart"):4===e?t.text("已结束").removeClass("J_login btn-primary J_buy J_nostart btn-disabled J_remind btn-remind").addClass("btn-disabled J_over"):5===e&&t.text("立即抢购").removeClass("J_login J_remind btn-remind btn-primary J_buy ").addClass("btn-disabled  J_nostart")},l=function(){return t.isLogin?void $.ajax({url:t.hdinfo,dataType:"jsonp",jsonp:"jsonpcallback",jsonpCallback:"hdinfo",data:{sitename:"cn",start:window.starttime,source:"flashsale",userId:t.uid,m:1},timeout:5e3,error:function(){c(0,$(".J_currentCon .btn"))},success:function(e){if(t.getHdinfor=!0,e&&e.status){var n=$(".J_currentCon .btn"),r=e.status;window.saleStatus=r;for(var i=0;i<n.length;i++){var o=!1,a=n.eq(i),d=a.data("id");for(var s in r)d===parseInt(s)&&(a.parents("li").find(".J_process").removeClass("hide").find("span").css("width",r[d].percent+"%").end().find("em").html(r[d].percent+"%"),a.parents("li").find(".person").hide(),o=!0,window.servertime-window.starttime<=60?c(1,a):2===r[d].hdstatus?c(1,a):3===r[d].hdstatus?c(0,a):1===r[d].hdstatus?c(3,a):4===r[d].hdstatus&&c(4,a));o||(c(0,a),a.parents("li").find(".J_process").removeClass("hide").find("span").css("width","100%").end().find("em").html("100%"))}}}}):void c(2,$(".J_currentCon .btn"))},u=function(){var e=0,t=$("#J_bigtapQueue").find(".queue-tip"),n=$("#J_bigtapQueue").find(".poster"),r=t.length,i=function(){1>=r||(t.hide(),t.eq(e).show(),n.eq(e).addClass("active").siblings().removeClass("active"),e+=1,e>=r&&(e=0),window.bigtapQueueTipTimer&&clearTimeout(window.bigtapQueueTipTimer),window.bigtapQueueTipTimer=setTimeout(i,8e3))};setTimeout(i,20)},m=function(){$("#J_bigtapQueue").modal({show:!0,backdrop:"static"}).on("hidden.bs.modal",function(){f()}),u(),window.modalQueueTimer&&clearTimeout(window.modalQueueTimer),window.inTheQueue=!0},f=function(){window.modalQueueTimer&&clearTimeout(window.modalQueueTimer),$("#J_bigtapQueue").modal("hide"),window.inTheQueue=!1,window.seckillgetHdgetTimer&&clearTimeout(window.seckillgetHdgetTimer),window.seckillbigtapTimer&&clearInterval(window.seckillbigtapTimer)},h=function(e){var n=e.data("id");if(!window.saleStatus)return l(),void T();if(!window.saleStatus[n]||!window.saleStatus[n].salt)return c(0,e),void e.parents("li").find(".J_process").removeClass("hide").find("span").css("width","100%").end().find("em").html("100%");var r=window.saleStatus[n].salt,i=window.jssign(r,n+"");$.ajax({url:t.hdget,dataType:"jsonp",jsonp:"jsonpcallback",jsonpCallback:"cn"+n,data:{source:"flashsale",product:n,salt:r,m:1,addcart:1,cstr1:i.cstr1,cstr2:i.cstr2},timeout:1e4,error:function(){window.seckillgetHdgetTimer&&clearTimeout(window.seckillgetHdgetTimer),window.seckillbigtapTimer&&clearInterval(window.seckillbigtapTimer),window.inTheQueue||m(),window.seckillgetHdgetTimer=setTimeout(function(){h(e)},5e3)},success:function(r){var i=r.status,o=r.d22a51?1e3*r.d22a51:5e3;if(r.login===!1&&(f(),location.href=t.orderLogin),3===i[n].hdstatus)return f(),MI.alert({msg:"已售罄"}),c(0,e),e.parents("li").find(".J_process").removeClass("hide").find("span").css("width","100%").end().find("em").html("100%"),!1;if(i[n].max)return f(),$("#J_modalBuymax").modal({show:!0,backdrop:"static"}),!1;window.seckillgetHdgetTimer&&clearTimeout(window.seckillgetHdgetTimer),window.modalQueueTimer&&clearTimeout(window.modalQueueTimer);var a=i[n].hdurl;a?(f(),w(a,e)):(window.inTheQueue||m(),window.seckillgetHdgetTimer=setTimeout(function(){h(e)},o))}})},w=function(e,n){e&&$.ajax({url:t.addcart+n.data("id"),dataType:"jsonp",jsonp:"jsonpcallback",data:{product_id:n.data("id"),source:"bigtap_flash",extend_field:JSON.stringify({end_time:window.endtime,start_time:window.starttime}),token:e},timeout:1e4,error:function(){c(0,n)},success:function(e){f(),1!=e.code?MI.alert({msg:"抢购太火爆了，再试一次吧~"}):location.href=t.cart}})},g=function(e){"undefined"!=typeof window._msq&&(window._msq&&window._msq.push(["setVars","time_id",e]),window._msq&&window._msq.push(["trackPageView"]),window._msq.push(["setVars","time_id",""]))},p=function(e){r.ajax({url:t.salepath,data:{now_time:e,size:o,page:n},callback:function(r){if(0===r.code&&r.data&&r.data.data&&r.data.data.list&&r.data.data.list.length>0){r.data.data.loginStatus&&(t.uid=$.cookie("cUserId")),r.data.data.serverTime=e;var i=window.doT.template($("#J_seckillTemplate").html());$(".J_seckill").html(i(r.data.data)),C(),r.data.data.list[0].list&&r.data.data.list[0].list.length>=o?(a=!0,n++):a=!1,window.starttime=r.data.data.list[0].start_time,window.endtime=r.data.data.list[0].end_time,v(),g(r.data.data.list[0].time_id)}else $(".J_seckillEmpty").removeClass("hide"),$(".J_seckill").addClass("hide")}})},v=function(){var e=!1,n=!1;$.miCountdown({startTime:window.starttime,endTime:window.endtime,upTime:!0,onTime:function(n){var r="距开始  "+s(n);$(".J_currentBanner span").html("<em>即将开始<br />"+r+"</em>"),n>900||900>n&&e||(t.isLogin?c(5,$(".J_currentCon .btn")):c(2,$(".J_currentCon .btn")),e=!0)},onStart:function(e){n||(t.isLogin?c(1,$(".J_currentCon .btn")):c(2,$(".J_currentCon .btn")),$(".J_currentCon .person").hide(),n=!0);var r="距结束  "+s(e);$(".J_currentBanner span").html("<em>抢购中<br />"+r+"</em>"),t.getHdinfor||l()},onEnd:function(){$(".J_currentBanner span").html("抢购已结束"),$(".J_currentCon .person").hide(),c(4,$(".J_currentCon .btn")),$(".J_currentCon .btn").parents("li").find(".J_process").removeClass("hide").find("span").css("width","100%").end().find("em").html("100%")}})},C=function(){setTimeout(function(){$(".J_sectillCon .active").find("img").each(function(){r.loadImage($(this))})},10)},b=function(e){var i=$(".J_seckillBanner .active");n=parseInt(i.data("page"))+1,r.ajax({url:t.salepath,data:{now_time:e,size:o,page:n},callback:function(e){if(a=!1,0===e.code&&e.data&&e.data.data&&e.data.data.list&&e.data.data.list.length>0){for(var r=0;r<e.data.data.list.length;r++)if(e.data.data.list[r].time_id==i.data("id")&&e.data.data.list[r].start_time==i.data("start_time")){var s=window.doT.template($("#J_seckillTemp2").html());$(".J_sectillCon .active").append(s(e.data.data.list[r])),i.data("page",n),C(),e.data.data.list[r].list&&e.data.data.list[r].list.length>=o?(a=!0,n++):a=!1}$(".J_seckillBanner .active").hasClass("J_currentBanner")&&(t.getHdinfor=!1,v())}d=!1}})},_=function(e){window.diffTime=0,$.ajax({url:t.serverTime,dataType:"script",cache:!1,timeout:1e4,error:function(){window.servertime=parseInt((new Date).getTime()/1e3),"function"==typeof e&&e(window.servertime)},success:function(){window.servertime&&"number"==typeof window.servertime?(window.servertime=window.servertime,window.diffTime=window.servertime-parseInt((new Date).getTime()/1e3)||0):window.servertime=parseInt((new Date).getTime()/1e3),"function"==typeof e&&e(window.servertime)}})};_(p);var T=function(){$("#J_modalNostart").hasClass("show")||($("#J_modalNostart").fadeIn().addClass("show"),setTimeout(function(){$("#J_modalNostart").hasClass("show")&&$("#J_modalNostart").fadeOut().removeClass("show")},2e3))};$("body").on("click",".J_nostart",function(e){e.preventDefault(),T()}),$("body").on("click",".J_buy",function(e){"seckill"!==$(this).parents("li").data("seckilltype")&&h($(this))}),$("body").on("click",".J_remind",function(e){e.preventDefault(),$("#J_modalRemind").modal("show")}),$("body").on("click",".J_refresh",function(){window.location.reload()}),$("body").on("click",".J_over",function(e){e.preventDefault(),$("#J_modalOver").modal("show")}),$("body").on("click",".J_login",function(e){"1"!==$.cookie("XM_agreement_sure")?(e.preventDefault(),window.needagreecookie=!0,window.agreementModalShow(t.orderLogin,!0)):window.location.href=t.orderLogin}),$("body").on("click",".J_seckillBanner li",function(){if(!$(this).hasClass("active")){n=$(this).data("page");var e=$(this).index();$(".J_seckillBanner li").removeClass("active").eq(e).addClass("active"),$(".J_sectillCon ul").removeClass("active").eq(e).addClass("active"),a=$(".J_sectillCon .active").find("li").length>=n*o,C();var t=$(this).data("id");g(t)}}),$(window).on("scroll.J_seckillBannerWrap",function(){var e=$(this).scrollTop();$(".J_seckillBannerWrap")&&1===$(".J_seckillBannerWrap").length&&(e>=$(".J_seckillBannerWrap").offset().top?$(".J_seckillBanner").removeClass("relative").addClass("fixed"):$(".J_seckillBanner").removeClass("fixed").addClass("relative"))}),$(window).on("scroll",function(){var e=$(this).scrollTop();if($(".J_sectillCon")&&$(".J_sectillCon").length>=1){var t=$(".J_sectillCon .active").offset().top+$(".J_sectillCon .active").height()-$(window).height();e>t&&!d&&a&&(d=!0,b(window.servertime))}})},$(document).ready(function(){$.seckill()})},function(e,t,n){MI.alert=function(e){var t,r,i={msg:"温馨提示",isConfirm:!1,onCancel:$.noop,onConfirm:$.noop},o=$.extend(i,e),a=n(3),d=$("#J_miAlert");o.msg&&(d.length||($("body").append(a),d=$("#J_miAlert")),t=d.find("#J_miAlertCancel"),r=d.find("#J_miAlertConfirm"),o.isConfirm?("function"==typeof o.onCancel&&t.on("click",o.onCancel),"function"==typeof o.onConfirm&&r.on("click",o.onConfirm)):t.remove(),d.find("#J_miAlertMsg").html(o.msg),d.modal("show"))}},function(e,t){e.exports=function(e){var t='<div class="modal fade modal-hide  modal-alert" id="J_miAlert" > <a class="close" data-dismiss="modal"  href="javascript: void(0);"><i class="iconfont">&#xe602;</i></a> <div class="modal-bd"> <div class="text"> <h3 id="J_miAlertMsg"></h3> </div> <div class="actions"> <button class="btn btn-gray" data-dismiss="modal" id="J_miAlertCancel">取消</button> <button class="btn btn-primary"  data-dismiss="modal" id="J_miAlertConfirm">确定</button> </div> </div></div>';return t}},function(e,t){!function(e){"use strict";function t(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function n(){var e,t="";for(e=0;e<arguments.length;++e)arguments[e]>126&&(arguments[e]-=126),t+=String.fromCharCode(arguments[e]<T.length?T[arguments[e]]:arguments[e]);return t}function r(){var t=n(100,128,130,117,109,15,110,116);if(void 0===e[t])return!1;var r=e[t],i=n(100,2,4,146,116,16,128,110);if(void 0===r[i])return!1;var o=n(104,128,115,116,110,146,109,15),a=r[i][o];return void 0===a?!1:-1!==a.indexOf(n(46,109,16,172,130,128,109))?!0:!1}function i(e,t){return e<<t|e>>>32-t}function o(e,n,r,o,a,d){return t(i(t(t(n,e),t(o,d)),a),r)}function a(e,t,n,r,i,a,d){return o(t&n|~t&r,e,t,i,a,d)}function d(e,t,n,r,i,a,d){return o(t&r|n&~r,e,t,i,a,d)}function s(e,t,n,r,i,a,d){return o(t^n^r,e,t,i,a,d)}function c(e,t,n,r,i,a,d){return o(n^(t|~r),e,t,i,a,d)}function l(e,n){e[n>>5]|=128<<n%32,e[(n+64>>>9<<4)+14]=n;var i,o,l,u,m,f=1732584193,h=-271733879,w=-1732584194,g=271733878,p=r();for(p&&(g>>=1,w=g<<1),i=0;i<e.length;i+=16)o=f,l=h,u=w,m=g,f=a(f,h,w,g,e[i],7,-680876936),g=a(g,f,h,w,e[i+1],12,-389564586),w=a(w,g,f,h,e[i+2],17,606105819),h=a(h,w,g,f,e[i+3],22,-1044525330),f=a(f,h,w,g,e[i+4],7,-176418897),g=a(g,f,h,w,e[i+5],12,1200080426),w=a(w,g,f,h,e[i+6],17,-1473231341),h=a(h,w,g,f,e[i+7],22,-45705983),f=a(f,h,w,g,e[i+8],7,1770035416),g=a(g,f,h,w,e[i+9],12,-1958414417),w=a(w,g,f,h,e[i+10],17,-42063),h=a(h,w,g,f,e[i+11],22,-1990404162),f=a(f,h,w,g,e[i+12],7,1804603682),g=a(g,f,h,w,e[i+13],12,-40341101),w=a(w,g,f,h,e[i+14],17,-1502002290),h=a(h,w,g,f,e[i+15],22,1236535329),f=d(f,h,w,g,e[i+1],5,-165796510),g=d(g,f,h,w,e[i+6],9,-1069501632),w=d(w,g,f,h,e[i+11],14,643717713),h=d(h,w,g,f,e[i],20,-373897302),f=d(f,h,w,g,e[i+5],5,-701558691),g=d(g,f,h,w,e[i+10],9,38016083),w=d(w,g,f,h,e[i+15],14,-660478335),h=d(h,w,g,f,e[i+4],20,-405537848),f=d(f,h,w,g,e[i+9],5,568446438),g=d(g,f,h,w,e[i+14],9,-1019803690),w=d(w,g,f,h,e[i+3],14,-187363961),h=d(h,w,g,f,e[i+8],20,1163531501),f=d(f,h,w,g,e[i+13],5,-1444681467),g=d(g,f,h,w,e[i+2],9,-51403784),w=d(w,g,f,h,e[i+7],14,1735328473),h=d(h,w,g,f,e[i+12],20,-1926607734),f=s(f,h,w,g,e[i+5],4,-378558),g=s(g,f,h,w,e[i+8],11,-2022574463),w=s(w,g,f,h,e[i+11],16,1839030562),h=s(h,w,g,f,e[i+14],23,-35309556),f=s(f,h,w,g,e[i+1],4,-1530992060),g=s(g,f,h,w,e[i+4],11,1272893353),w=s(w,g,f,h,e[i+7],16,-155497632),h=s(h,w,g,f,e[i+10],23,-1094730640),f=s(f,h,w,g,e[i+13],4,681279174),g=s(g,f,h,w,e[i],11,-358537222),w=s(w,g,f,h,e[i+3],16,-722521979),h=s(h,w,g,f,e[i+6],23,76029189),f=s(f,h,w,g,e[i+9],4,-640364487),g=s(g,f,h,w,e[i+12],11,-421815835),w=s(w,g,f,h,e[i+15],16,530742520),h=s(h,w,g,f,e[i+2],23,-995338651),f=c(f,h,w,g,e[i],6,-198630844),g=c(g,f,h,w,e[i+7],10,1126891415),w=c(w,g,f,h,e[i+14],15,-1416354905),h=c(h,w,g,f,e[i+5],21,-57434055),f=c(f,h,w,g,e[i+12],6,1700485571),g=c(g,f,h,w,e[i+3],10,-1894986606),w=c(w,g,f,h,e[i+10],15,-1051523),h=c(h,w,g,f,e[i+1],21,-2054922799),f=c(f,h,w,g,e[i+8],6,1873313359),g=c(g,f,h,w,e[i+15],10,-30611744),w=c(w,g,f,h,e[i+6],15,-1560198380),h=c(h,w,g,f,e[i+13],21,1309151649),f=c(f,h,w,g,e[i+4],6,-145523070),g=c(g,f,h,w,e[i+11],10,-1120210379),w=c(w,g,f,h,e[i+2],15,718787259),h=c(h,w,g,f,e[i+9],21,-343485551),f=t(f,o),h=t(h,l),w=t(w,u),g=t(g,m);return[f,h,w,g]}function u(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function m(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function f(e){return u(l(m(e),8*e.length))}function h(e,t){var n,r,i=m(e),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=l(i,8*e.length)),n=0;16>n;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=l(o.concat(m(t)),512+8*t.length),u(l(a.concat(r),640))}function w(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function g(e){return unescape(encodeURIComponent(e))}function p(e){return f(g(e))}function v(e){return w(p(e))}function C(e,t){return h(g(e),g(t))}function b(e,t){return w(C(e,t))}function _(e,t,n){return t?n?C(t,e):b(t,e):n?p(e):v(e)}var T=[32,36,111,118,99,94,121,111,93,79,60,78,89,56,74,101,105,71,106,113,97,91,102,127];e.MiDigest=_}(window)},function(e,t){!function(e){"use strict";function t(e,t){var n=e.length,r=n<<2;if(t){var i=e[n-1];if(r-=4,r-3>i||i>r)return null;r=i}for(var o=0;n>o;o++)e[o]=String.fromCharCode(255&e[o],e[o]>>>8&255,e[o]>>>16&255,e[o]>>>24&255);var a=e.join("");return t?a.substring(0,r):a}function n(e,t){var n=e.length,r=n>>2;0!==(3&n)&&++r;var i;t?(i=new Array(r+1),i[r]=n):i=new Array(r);for(var o=0;n>o;++o)i[o>>2]|=e.charCodeAt(o)<<((3&o)<<3);return i}function r(e){return 4294967295&e}function o(e,t,n,r,i,o){return(n>>>5^t<<2)+(t>>>3^n<<4)^(e^t)+(o[3&r^i]^n)}function a(e){return e.length<4&&(e.length=4),e}function d(e,t){var n,i,a,d,s,c,l=e.length,u=l-1;for(i=e[u],a=0,c=0|Math.floor(6+52/l);c>0;--c){for(a=r(a+g),d=a>>>2&3,s=0;u>s;++s)n=e[s+1],i=e[s]=r(e[s]+o(a,n,i,s,d,t));n=e[0],i=e[u]=r(e[u]+o(a,n,i,u,d,t))}return e}function s(){for(str="",i=0;i<arguments.length;++i)arguments[i]>130&&(arguments[i]-=130),str+=String.fromCharCode(arguments[i]<p.length?p[arguments[i]]:arguments[i]);return str}function c(){var e=document[s(108,132,134,150,116,16,2,110)];if(void 0===e)return!1;var t=s(104,132,115,246);return void 0!==e[t]?-1!==e[t].indexOf(s(176,109,146,176,134,2,109)):!1}function l(e){if(/^[\x00-\x7f]*$/.test(e))return e;for(var t=[],n=e.length,r=c(),i=0,o=0;n>i;++i,++o){var a=e.charCodeAt(i);if(128>a&&r)t[o]=e.charAt(i);else if(2048>a)t[o]=String.fromCharCode(192|a>>6,128|63&a);else{if(!(55296>a||a>57343)){if(n>i+1){var d=e.charCodeAt(i+1);if(56320>a&&d>=56320&&57343>=d){var s=((1023&a)<<10|1023&d)+65536;t[o]=String.fromCharCode(240|s>>18&63,128|s>>12&63,128|s>>6&63,128|63&s),++i;continue}}throw new Error("Bad string format")}t[o]=String.fromCharCode(224|a>>12,128|a>>6&63,128|63&a)}r&&++i}return t.join("")}function u(e,t){for(var n=new Array(t),r=0,i=0,o=e.length;t>r&&o>i;r++){var a=e.charCodeAt(i++);switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:n[r]=a;break;case 12:case 13:if(!(o>i))throw new Error("Bad octet string");n[r]=(31&a)<<6|63&e.charCodeAt(i++);break;case 14:if(!(o>i+1))throw new Error("Bad octet string");n[r]=(15&a)<<12|(63&e.charCodeAt(i++))<<6|63&e.charCodeAt(i++);break;case 15:if(!(o>i+2))throw new Error("Bad octet string");var d=((7&a)<<18|(63&e.charCodeAt(i++))<<12|(63&e.charCodeAt(i++))<<6|63&e.charCodeAt(i++))-65536;if(!(d>=0&&1048575>=d))throw new Error("Bad unicode rune, range: 0x"+d.toString(16));n[r++]=d>>10&1023|55296,n[r]=1023&d|56320;break;default:throw new Error("Bad encoding 0x"+a.toString(16))}}return t>r&&(n.length=r),String.fromCharCode.apply(String,n)}function m(e,t){for(var n=[],r=new Array(65535),i=0,o=0,a=e.length;t>i&&a>o;i++){var d=e.charCodeAt(o++);switch(d>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:r[i]=d;break;case 12:case 13:if(!(a>o))throw new Error("Bad octet string");r[i]=(31&d)<<6|63&e.charCodeAt(o++);break;case 14:if(!(a>o+1))throw new Error("Bad octet string");r[i]=(15&d)<<12|(63&e.charCodeAt(o++))<<6|63&e.charCodeAt(o++);break;case 15:if(!(a>o+2))throw new Error("Bad octet string");var s=((7&d)<<18|(63&e.charCodeAt(o++))<<12|(63&e.charCodeAt(o++))<<6|63&e.charCodeAt(o++))-65536;if(!(s>=0&&1048575>=s))throw new Error("Bad unicode string, range: 0x"+s.toString(16));r[i++]=s>>10&1023|55296,r[i]=1023&s|56320;break;default:throw new Error("Bad encoding 0x"+d.toString(16))}if(i>=65534){var c=i+1;r.length=c,n[n.length]=String.fromCharCode.apply(String,r),t-=c,i=-1}}return i>0&&(r.length=i,n[n.length]=String.fromCharCode.apply(String,r)),n.join("")}function f(e,t){return(void 0===t||null===t||0>t)&&(t=e.length),0===t?"":/^[\x00-\x7f]*$/.test(e)||!/^[\x00-\xff]*$/.test(e)?t===e.length?e:e.substr(0,t):1e5>t?u(e,t):m(e,t)}function h(e,r){return void 0===e||null===e||0===e.length?e:(e=l(e),r=l(r),t(d(n(e,!0),a(n(r,!1))),!1))}function w(t,n){return e.btoa(h(t,n))}"undefined"==typeof e.btoa&&(e.btoa=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return function(t){var n,r,i,o,a,d,s;for(r=i=0,o=t.length,a=o%3,o-=a,d=o/3<<2,a>0&&(d+=4),n=new Array(d);o>r;)s=t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<8|t.charCodeAt(r++),n[i++]=e[s>>18]+e[s>>12&63]+e[s>>6&63]+e[63&s];return 1==a?(s=t.charCodeAt(r++),n[i++]=e[s>>2]+e[(3&s)<<4]+"="):2==a&&(s=t.charCodeAt(r++)<<8|t.charCodeAt(r++),n[i++]=e[s>>10]+e[s>>4&63]+e[(15&s)<<2]+"="),n.join("")}}()),"undefined"==typeof e.atob&&(e.atob=function(){var e=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];return function(t){var n,r,i,o,a,d,s,c,l,u;if(s=t.length,s%4!==0)return"";if(/[^ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\+\/\=]/.test(t))return"";for(c="="==t.charAt(s-2)?1:"="==t.charAt(s-1)?2:0,l=s,c>0&&(l-=4),l=3*(l>>2)+c,u=new Array(l),a=d=0;s>a&&(n=e[t.charCodeAt(a++)],-1!=n)&&(r=e[t.charCodeAt(a++)],-1!=r)&&(u[d++]=String.fromCharCode(n<<2|(48&r)>>4),i=e[t.charCodeAt(a++)],-1!=i)&&(u[d++]=String.fromCharCode((15&r)<<4|(60&i)>>2),o=e[t.charCodeAt(a++)],-1!=o);)u[d++]=String.fromCharCode((3&i)<<6|o);return u.join("")}}());var g=2654435769,p=[32,36,111,118,99,94,121,111,93,79,60,78,89,56,74,101,105,71,106,113,97,91,102,127];e.MICrypt={utf8Encode:l,utf8Decode:f,encrypt:h,et64:w}}(window)},function(e,t){!function(e,t,n){"use strict";function r(){for(var e="",t=0;t<arguments.length;++t)arguments[t]>125&&(arguments[t]-=125),e+=String.fromCharCode(arguments[t]<h.length?h[arguments[t]]:arguments[t]);return e}function o(){for(var e=void 0,t="",n=0;n<arguments.length;++n)"string"==typeof arguments[n]&&void 0===e?e=arguments[n]:"number"==typeof arguments[n]&&(arguments[n]>125&&(arguments[n]-=125),t+=String.fromCharCode(arguments[n]<h.length?h[arguments[n]]:arguments[n]));return e.toLowerCase()===t.toLowerCase()}function a(e,t,n){for(var i={},a=g[r(4,2,127,107,16,15)].split(";"),d=0;d<a.length;++d){a[d]=a[d].replace(/(^\s+)|(\s+$)/g,"");var s=a[d].split("=");2===s.length&&(o(120,109,s[0],95,128,16,115,116,127,114)?i.c=s[1]:o(117,115,15,s[0],114,73,100)?i.b=s[1]:o(109,115,116,117,s[0],16,100)&&(i.s=s[1]))}return void 0===i.c&&(i.c=t),void 0===i.b&&(i.b=n),void 0===i.s&&(i.s=MiDigest(n+t)),i}function d(e,t){var n=e.length;if(t>=n)return e;var r="";for(i=0;i<t/2;++i)r+=e[n-1-i],r+=e[i];return r}function s(){var e="",t=p.toLowerCase();return e+=-1!==t.indexOf("msie")||-1!==t.indexOf("trident")?"i":-1!==t.indexOf("edge")?"e":-1!==t.indexOf("chrome")?"c":-1!==t.indexOf("firefox")?"f":"u",e+=-1!==t.indexOf("wechat")?"w":-1!==t.indexOf("android")?"a":-1!==t.indexOf("iphone")||-1!==t.indexOf("ipad")?"i":-1!==t.indexOf("windows")?"o":-1!==t.indexOf("linux")?"l":"u"}function c(e,t){return e+t}function l(e,t){var n=g[r(108,127,129,20,116,16,2,110)];return void 0!==n&&"object"==typeof n&&void 0!==n[r(104,127,115,116)]?n[r(104,127,115,116)]:c(e,t)}function u(e,t,n,r,i){var o=4;n.charCodeAt(4)<83?o=3:n.charCodeAt(4)<110&&(o=5);for(var a="",c=0;c<n.length;++c){var l=c%o;0===l&&(a+=n[c])}if(0===o%2)for(c=0;c<t.length;++c){var l=c%o;1===l&&(a+=t[c])}else for(c=0;c<e.length;++c){var l=c%o;1===l&&(a+=e[c])}for(c=0;c<i.length;++c){var l=c%o;2===l&&(a+=i[c])}return d(a,32)+MiDigest(s()+t+r)}function m(e,t,n,r,i){for(var o=e+i,a=n+t,d=l(r,i),s=Math.min(Math.min(o.length,a.length),Math.min(a.length,d.length)),c="",u=0;s>u;++u){var m=o.charCodeAt(u)&a.charCodeAt(u)|d.charCodeAt(u);m>127?m=2:0==m&&(m=1),c+=String.fromCharCode(m)}return c}function f(e,t,n,r,i){var o=new Date,a="ts="+w.getTime();return a+="&dur="+(o.getTime()-w.getTime()),a+="&slt="+r.substring(2,10)+n.substring(6,20),MICrypt.et64(a,m(e,t,n,i,r))}var h=[32,36,111,118,99,94,121,111,93,79,60,78,89,56,74,101,105,71,106,113,97,91,102,127],w=new Date,g=void 0;void 0!==n[r(100,127,129,117,109,140,110,116)]&&(g=n[r(100,127,129,117,109,140,110,116)]);var p=void 0;if(void 0!==n[r(129,108,16,15,110,116,73,110,22,127,114,109,145,116,16,2,110)]){var v=n[r(129,108,16,15,110,116,73,110,22,127,114,109,145,116,16,2,110)];void 0!==v[r(117,115,15,114,65,103,15,110,116)]&&(p=v[r(117,115,15,114,65,103,15,110,116)])}else if(void 0!==n[r(110,145,128,16,103,20,116,127,114)]){var v=n[r(110,145,128,16,103,20,116,127,114)];void 0!==v[r(117,115,15,114,65,103,15,110,116)]&&(p=v[r(117,115,15,114,65,103,15,110,116)])}void 0===p&&(p=salt),n.jssign=function(e,t){var n=a(e+t,e,t),r={cstr1:u(n.c,n.b,n.s,t,e),cstr2:f(n.c,n.b,n.s,e,t)};return w=new Date,r}}("MI_STD_CRYPTED","MI_GOODS_ID",window)},function(e,t){$.extend({miCountdown:function(e){var t={startTime:"",endTime:"",timer:"",upTime:!1,onTime:$.noop,onStart:$.noop,onEnd:$.noop},n=$.extend(t,e);if(n.startTime&&n.endTime){var r=$.isNumeric(n.startTime)?n.startTime:new Date(n.startTime).getTime()/1e3,i=$.isNumeric(n.endTime)?n.endTime:new Date(n.endTime).getTime()/1e3;return window.diffTime=window.diffTime||0,window.checkTime=function(){var e=parseInt((new Date).getTime()/1e3)+window.diffTime;if(window.surplusTime=r-e,n.timer&&clearTimeout(n.timer),n.upTime){if(e>=r&&i>e)"function"==typeof n.onStart&&n.onStart(i-e);else if(e>=i){if("function"==typeof n.onEnd)return void n.onEnd(e)}else n.onTime(window.surplusTime);n.timer=setTimeout(function(){window.checkTime()},1e3)}else e>=r&&i>e?"function"==typeof n.onStart&&n.onStart(e):e>=i?"function"==typeof n.onEnd&&n.onEnd(e):(n.onTime(window.surplusTime),n.timer=setTimeout(function(){e+=1,window.checkTime()},1e3))},window.servertime?void window.checkTime():void $.ajax({url:"//time.hd.mi.com/gettimestamp",dataType:"script",cache:!0,timeout:1e4,error:function(){window.servertime=(new Date).getTime()/1e3,window.checkTime()},success:function(){window.servertime&&"number"==typeof window.servertime?(window.servertime=window.servertime,window.diffTime=window.servertime-parseInt((new Date).getTime()/1e3)):window.servertime=(new Date).getTime()/1e3,window.checkTime()}})}}})},function(e,t){var n={ajax:function(e){var t={type:"GET",url:e.url,dataType:"jsonp",jsonp:"jsonpcallback",data:e.data||"",timeout:1e4,error:function(t,n,r){var i={};e.data&&(i=e.data),i.locationHref=window.location.href,i.errorData=t,i.errorType=n,i.error=r,_msq.push(["trackEvent","AJAX_ERROR",encodeURIComponent(e.url),JSON.stringify(i)]);var o=e.error;o&&o(t)},success:function(t){var n=e.callback;n&&n(t)}};e.jsonpCallback&&(t.jsonpCallback=e.jsonpCallback),$.ajax(t)},setProxy:function(e,t,n){var r=$('<iframe width="0" height="0" name="seckill'+n+'"></iframe>');r.attr("src",t),$("body").append(r),$('iframe[name="seckill'+n+'"]').load(function(){"function"==typeof e&&e(),$('iframe[name="seckill'+n+'"]').remove()})},setLogin:function(e){var t=this;-1===e.code?($.cookie("cUserId")&&"hd"===e.type&&t.setProxy(e.callback,e.proxy,"hd"),$.cookie("cUserId")&&$.cookie("xm_order_btauth")&&"order"===e.type&&t.setProxy(e.callback,e.proxy,"hdorder")):("hd"===e.type&&t.setProxy(e.callback,e.proxy,"hd"),"order"===e.type&&t.setProxy(e.callback,e.proxy,"hdorder"))},loadImage:function(e){var t=new Image;return t.src=e.data("src"),t.complete?void e.attr("src",t.src).addClass("done").removeClass("hide"):void(t.onload=function(){e.attr("src",t.src).addClass("done").removeClass("hide")})}};e.exports=n},function(e,t){var n=/.t.n.|.test./;e.exports=n.test(window.location.host)?{name:"小米商城",url:location.href,serverTime:"//time.hd.mi.com/gettimestamp",salepath:"//a-huodong.test.mi.com/flashsale/getlist",orderLogin:"//order.test.mi.com/site/login?redirectUrl="+location.href,proxy:"//i-huodong.test.mi.com/user/proxy/stop/1",orderproxy:"//order.test.mi.com/user/proxy/stop/1",path:"a-huodong.test.mi.com",paths:"i.huodong.mi.com",hdinfo:"//tp-hd.test.mi.com/hdinfo/cn",hdget:"//tp-hd.test.mi.com/hdget/cn",addcart:MI.GLOBAL_CONFIG.cartSite+"/cart/add/",cart:MI.GLOBAL_CONFIG.staticSite+"/cart/",getHdinfor:!1,isLogin:$.cookie("cUserId")?!0:!1,pos:0,left:0}:{name:"小米商城",url:location.href,serverTime:"//time.hd.mi.com/gettimestamp",salepath:"//a.huodong.mi.com/flashsale/getlist",orderLogin:"//order.mi.com/site/login?redirectUrl="+location.href,proxy:"//i.huodong.mi.com/user/proxy/stop/1",orderproxy:"//order.mi.com/user/proxy/stop/1",path:"a.huodong.mi.com",paths:"i.huodong.mi.com",hdinfo:"//tp2.hd.mi.com/hdinfo/cn",hdget:"//tp2.hd.mi.com/hdget/cn",addcart:MI.GLOBAL_CONFIG.cartSite+"/cart/add/",cart:MI.GLOBAL_CONFIG.staticSite+"/cart/",getHdinfor:!1,isLogin:$.cookie("cUserId")?!0:!1,pos:0,left:0}}]);